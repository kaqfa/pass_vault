{% load static %}
<!DOCTYPE html>
<html lang="en" class="h-full antialiased">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Pass-Man{% endblock %}</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: ["class"],
        theme: {
          container: { center: true, padding: "2rem", screens: { "2xl": "1400px" } },
          extend: {
            fontFamily: { sans: ["Inter", "sans-serif"] },
            colors: {
              border: "hsl(var(--border))", input: "hsl(var(--input))", ring: "hsl(var(--ring))", background: "hsl(var(--background))", foreground: "hsl(var(--foreground))",
              primary: { DEFAULT: "hsl(var(--primary))", foreground: "hsl(var(--primary-foreground))" },
              secondary: { DEFAULT: "hsl(var(--secondary))", foreground: "hsl(var(--secondary-foreground))" },
              destructive: { DEFAULT: "hsl(var(--destructive))", foreground: "hsl(var(--destructive-foreground))" },
              muted: { DEFAULT: "hsl(var(--muted))", foreground: "hsl(var(--muted-foreground))" },
              accent: { DEFAULT: "hsl(var(--accent))", foreground: "hsl(var(--accent-foreground))" },
              popover: { DEFAULT: "hsl(var(--popover))", foreground: "hsl(var(--popover-foreground))" },
              card: { DEFAULT: "hsl(var(--card))", foreground: "hsl(var(--card-foreground))" },
            },
            borderRadius: { lg: "var(--radius)", md: "calc(var(--radius) - 2px)", sm: "calc(var(--radius) - 4px)" },
          },
        },
      }
    </script>

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
      :root {
        --background: 0 0% 100%; --foreground: 240 10% 3.9%;
        --card: 0 0% 100%; --card-foreground: 240 10% 3.9%;
        --popover: 0 0% 100%; --popover-foreground: 240 10% 3.9%;
        --primary: 240 5.9% 10%; --primary-foreground: 0 0% 98%;
        --secondary: 240 4.8% 95.9%; --secondary-foreground: 240 5.9% 10%;
        --muted: 240 4.8% 95.9%; --muted-foreground: 240 3.8% 46.1%;
        --accent: 240 4.8% 95.9%; --accent-foreground: 240 5.9% 10%;
        --destructive: 0 84.2% 60.2%; --destructive-foreground: 0 0% 98%;
        --border: 240 5.9% 90%; --input: 240 5.9% 90%; --ring: 240 10% 3.9%;
        --radius: 0.5rem;
      }
      .dark {
        --background: 240 10% 3.9%; --foreground: 0 0% 98%;
        --card: 240 10% 3.9%; --card-foreground: 0 0% 98%;
        --popover: 240 10% 3.9%; --popover-foreground: 0 0% 98%;
        --primary: 0 0% 98%; --primary-foreground: 240 5.9% 10%;
        --secondary: 240 3.7% 15.3%; --secondary-foreground: 0 0% 98%;
        --muted: 240 3.7% 15.3%; --muted-foreground: 240 5% 64.9%;
        --accent: 240 3.7% 15.3%; --accent-foreground: 0 0% 98%;
        --destructive: 0 62.8% 30.6%; --destructive-foreground: 0 0% 98%;
        --border: 240 3.7% 15.3%; --input: 240 3.7% 15.3%; --ring: 240 4.9% 83.9%;
      }
      body { font-family: "Inter", sans-serif; }
      [x-cloak] { display: none !important; }
    </style>

    {% block extra_css %}{% endblock %}
</head>
<body class="bg-background text-foreground h-full flex flex-col">

    {% block content %}{% endblock %}

    <!-- Toast Container -->
    <div id="toast-container" class="fixed bottom-4 right-4 z-50 space-y-2"></div>

    <script>
      // Simple Toast Notification
      function showToast(message, type = 'info') {
        const container = document.getElementById('toast-container');
        const toast = document.createElement('div');
        const colors = {
            success: 'bg-green-100 text-green-800 border-green-200',
            error: 'bg-red-100 text-red-800 border-red-200',
            info: 'bg-blue-100 text-blue-800 border-blue-200',
            warning: 'bg-yellow-100 text-yellow-800 border-yellow-200'
        };
        toast.className = `p-4 rounded-md border flex items-center gap-2 shadow-sm transform transition-all duration-300 translate-y-2 opacity-0 ${colors[type] || colors.info}`;
        toast.innerHTML = `<span class="text-sm font-medium">${message}</span>`;
        
        container.appendChild(toast);
        // Animate in
        requestAnimationFrame(() => {
            toast.classList.remove('translate-y-2', 'opacity-0');
        });

        setTimeout(() => {
            toast.classList.add('opacity-0', 'translate-y-2');
            setTimeout(() => toast.remove(), 300);
        }, 3000);
      }
      
      document.body.addEventListener('htmx:afterRequest', (evt) => {
        // HTMX flash message handling could go here if server sends headers
      });
    </script>
    {% block extra_js %}{% endblock %}
</body>
</html>

